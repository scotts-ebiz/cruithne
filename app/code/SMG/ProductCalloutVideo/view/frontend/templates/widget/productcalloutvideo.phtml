<?php
//Set Vars
$pcvHeadlineCustomCssStyle = '';
$pcvHeadlineStyleValues = '';
$pcvParagraphTextSize = '';
$pcvBannerTextStyleSelected = '';
$pcvBannerTextStyleValuesSelected = '';
$valueOfTextStyle = '';
$pcvIconColorSelected = '';
$pcvIconBackgroundColorSelected = '';
$pcvIframeWidthSelected = '';
$pcvIframeHeightSelected = '';
$pcvIframeVideoLinkSelected = '';
$pcvBgPaddingTopSelected = '';
$pcvBgPaddingBottomSelected = '';


//If pcvBannerHeadlineStyle exists then set to customCssStyles
if($block->getData('pcvBannerHeadlineStyle') != ''):
    $pcvHeadlineCustomCssStyle = $block->getData('pcvBannerHeadlineStyle');
endif;


//If pcvBannerTextSize exists then set to $pcvParagraphTextSize
if($block->getData('pcvBannerTextSize') != ''):
    $pcvParagraphTextSize = $block->getData('pcvBannerTextSize');
endif;


// If pcvBannerTextStyle exists then set to $pcvBannerTextStyleSelected
if($block->getData('pcvBannerTextStyle') != ''):
  $pcvBannerTextStyleSelected = $block->getData('pcvBannerTextStyle');
endif;


// If pcvIconColor exists then set to $pcvIconColorSelected
if($block->getData('pcvIconColor') != ''):
  $pcvIconColorSelected = $block->getData('pcvIconColor');
endif;


// If pcvIconBackgroundColor exists then set to $pcvIconBackgroundColorSelected
if($block->getData('pcvIconBackgroundColor') != ''):
  $pcvIconBackgroundColorSelected = $block->getData('pcvIconBackgroundColor');
endif;


// If pcvIframeWidth exists then set to $pcvIframeWidthSelected
if($block->getData('pcvIframeWidth') != ''):
  $pcvIframeWidthSelected = $block->getData('pcvIframeWidth');
endif;


// If pcvIframeHeight exists then set to $pcvIframeHeightSelected
if($block->getData('pcvIframeHeight') != ''):
  $pcvIframeHeightSelected = $block->getData('pcvIframeHeight');
endif;


// If pcvIframeVideoLink exists then set to $pcvIframeVideoLinkSelected
if($block->getData('pcvIframeVideoLink') != ''):
  $pcvIframeVideoLinkSelected = $block->getData('pcvIframeVideoLink');
endif;


// If pcvBgPaddingTop exists then set to $pcvBgPaddingTopSelected
if($block->getData('pcvBgPaddingTop') != ''):
  $pcvBgPaddingTopSelected = $block->getData('pcvBgPaddingTop');
endif;


// If pcvBgPaddingBottom exists then set to $pcvBgPaddingBottomSelected
if($block->getData('pcvBgPaddingBottom') != ''):
  $pcvBgPaddingBottomSelected = $block->getData('pcvBgPaddingBottom');
endif;


?>


<section class="product-callout-video-widget product-info-container" style="padding-top:<?php echo $block->escapeCss($pcvBgPaddingTopSelected) ?>%; padding-bottom: <?php echo $block->escapeCss($pcvBgPaddingBottomSelected) ?>%;">
    <div class="product-info grid col-2">
        <div class="productCalloutVideo-imageContainer span_6_of_12">
            <div class="productCalloutVideo-selectedImgContainer" style="background: url('<?php echo $block->escapeCss($block->getData('pcvCalloutImage')); ?>') no-repeat;
              background-size:cover; background-position:center;">
                <a class="productCalloutVideo-watchVideo play productCalloutVideo-video-link" href="#">
                    <i class="icon-play fas fa-play" style="color:<?php echo $block->escapeCss($pcvIconColorSelected) ?>;
                      background-color:<?php echo $block->escapeCss($pcvIconBackgroundColorSelected) ?>;"></i>
                    <span class="embed-code">
                        <iframe width="<?php echo $block->escapeCss($pcvIframeWidthSelected) ;?>" height="<?php echo
                        $block->escapeCss($pcvIframeHeightSelected) ;?>" src="<?php echo $block->escapeUrl($pcvIframeVideoLinkSelected) ?>" frameborder="0"
                                allow="autoplay; encrypted-media" allowfullscreen="" data-dayt="true">
                        </iframe>
                    </span>
                </a>
            </div>
        </div>
        <div class="productCalloutVideo-contentContainer span_6_of_12 <?php echo $block->escapeHtmlAttr($block->getData('pcvTextContainerAlignment')) ?>">
            <h2 style="<?php
            $block->escapeCss($pcvHeadlineStyleValues = explode(',', $pcvHeadlineCustomCssStyle));
            foreach($pcvHeadlineStyleValues as $pcvHeadlinevalue) {
              echo $block->escapeCss($pcvHeadlinevalue);
            } ?>color:<?php echo $block->escapeCss($block->getData('pcvBannerHeadlineColor'));?>;">
                <?php echo $block->escapeHtml($block->getData('pcvBannerHeadline')); ?>
            </h2>
            <p style="<?php echo $block->escapeCss($pcvParagraphTextSize)?>
              <?php
              $block->escapeHtml($pcvBannerTextStyleValuesSelected = explode(',', $pcvBannerTextStyleSelected));
                foreach($pcvBannerTextStyleValuesSelected as $valueOfTextStyle) {
                  echo $block->escapeHtml($valueOfTextStyle);
                }
              ?>
              color:<?php echo $block->escapeCss($block->getData('pcvBannerTextColor')); ?>;">
              <?php echo $block->escapeCss($block->getData('pcvBannerText'));?>
            </p>
        </div>
        <div id="productCalloutVideo-video-overlay" class="productCalloutVideo-video-overlay"></div>
        <div id="productCalloutVideo-video-container" class="productCalloutVideo-video-container">
            <div class="video-frame"></div>
        </div>
    </div>
</section>

<!-- Calling JS -->
<script type="text/x-magento-init">

{
    "*": {
        "SMG_ProductCalloutVideo/js/site": {}
    }
}
</script>