<?php
//Set Vars
$pcvHeadlineCustomCssStyle = '';
$pcvHeadlineStyleValues = '';
$pcvParagraphTextSize = '';
$pcvBannerTextStyleSelected = '';
$pcvBannerTextStyleValuesSelected = '';
$valueOfTextStyle = '';
$pcvIconColorSelected = '';
$pcvIconBackgroundColorSelected = '';
$pcvIframeWidthSelected = '';
$pcvIframeHeightSelected = '';
$pcvIframeVideoLinkSelected = '';
$pcvBgPaddingTopSelected = '';
$pcvBgPaddingBottomSelected = '';


//If pcvBannerHeadlineStyle exists then set to customCssStyles
if($block->getData('pcvBannerHeadlineStyle') != ''):
    $pcvHeadlineCustomCssStyle = $block->getData('pcvBannerHeadlineStyle');
endif;


//If pcvBannerTextSize exists then set to $pcvParagraphTextSize
if($block->getData('pcvBannerTextSize') != ''):
    $pcvParagraphTextSize = $block->getData('pcvBannerTextSize');
endif;


// If pcvBannerTextStyle exists then set to $pcvBannerTextStyleSelected
if($block->getData('pcvBannerTextStyle') != ''):
  $pcvBannerTextStyleSelected = $block->getData('pcvBannerTextStyle');
endif;


// If pcvIconColor exists then set to $pcvIconColorSelected
if($block->getData('pcvIconColor') != ''):
  $pcvIconColorSelected = $block->getData('pcvIconColor');
endif;


// If pcvIconBackgroundColor exists then set to $pcvIconBackgroundColorSelected
if($block->getData('pcvIconBackgroundColor') != ''):
  $pcvIconBackgroundColorSelected = $block->getData('pcvIconBackgroundColor');
endif;


// If pcvIframeWidth exists then set to $pcvIframeWidthSelected
if($block->getData('pcvIframeWidth') != ''):
  $pcvIframeWidthSelected = $block->getData('pcvIframeWidth');
endif;


// If pcvIframeHeight exists then set to $pcvIframeHeightSelected
if($block->getData('pcvIframeHeight') != ''):
  $pcvIframeHeightSelected = $block->getData('pcvIframeHeight');
endif;


// If pcvIframeVideoLink exists then set to $pcvIframeVideoLinkSelected
if($block->getData('pcvIframeVideoLink') != ''):
  $pcvIframeVideoLinkSelected = $block->getData('pcvIframeVideoLink');
endif;


// If pcvBgPaddingTop exists then set to $pcvBgPaddingTopSelected
if($block->getData('pcvBgPaddingTop') != ''):
  $pcvBgPaddingTopSelected = $block->getData('pcvBgPaddingTop');
endif;


// If pcvBgPaddingBottom exists then set to $pcvBgPaddingBottomSelected
if($block->getData('pcvBgPaddingBottom') != ''):
  $pcvBgPaddingBottomSelected = $block->getData('pcvBgPaddingBottom');
endif;


?>


<section class="product-callout-video-widget product-info-container" style="padding-top:<?php echo $pcvBgPaddingTopSelected?>%; padding-bottom: <?php echo $pcvBgPaddingBottomSelected?>%;">
    <div class="product-info grid col-2">
        <div class="productCalloutVideo-imageContainer span_6_of_12">
            <div class="productCalloutVideo-selectedImgContainer" style="background: url('<?php echo $block->getData
            ('pcvCalloutImage'); ?>') no-repeat;
              background-size:cover; background-position:center;">
                <a class="productCalloutVideo-watchVideo play video-link" href="#">
                    <i class="icon-play fas fa-play" style="color:<?php echo $pcvIconColorSelected?>;
                      background-color:<?php echo $pcvIconBackgroundColorSelected?>;"></i>
                    <span class="embed-code">
                        <iframe width="<?php echo $pcvIframeWidthSelected?>" height="<?php echo $pcvIframeHeightSelected?>" src="<?php echo $pcvIframeVideoLinkSelected?>" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen="" data-dayt="true">
                        </iframe>
                    </span>
                </a>
            </div>
        </div>
        <div class="productCalloutVideo-contentContainer span_6_of_12 <?php echo $block->getData('pcvTextContainerAlignment') ?>">
            <h2 style="<?php
            $pcvHeadlineStyleValues = explode(',', $pcvHeadlineCustomCssStyle);
            foreach($pcvHeadlineStyleValues as $pcvHeadlinevalue) {
              echo $pcvHeadlinevalue;
            } ?>color:<?php echo $block->getData('pcvBannerHeadlineColor');?>;">
                <?php echo $block->getData('pcvBannerHeadline'); ?>
            </h2>
            <p style="<?php echo $pcvParagraphTextSize?>
              <?php
              $pcvBannerTextStyleValuesSelected = explode(',', $pcvBannerTextStyleSelected);
                foreach($pcvBannerTextStyleValuesSelected as $valueOfTextStyle) {
                  echo $valueOfTextStyle;
                }
              ?>
              color:<?php echo $block->getData('pcvBannerTextColor'); ?>;">
              <?php echo $block->getData('pcvBannerText');?>
            </p>
        </div>
        <div id="video-overlay" class="video-overlay"></div>
        <div id="video-container" class="video-container">
            <div class="video-frame"></div>
        </div>
    </div>
</section>

<script type="text/x-magento-init">

{
    "*": {
        "SMG_ProductCalloutVideo/js/site": {}
    }
}
</script>