.sp-grid {
  display: flex;
  flex-wrap: wrap;
  margin-left: -$gutter;
  margin-right: -$gutter;
}

.sm\:sp-grid {
  @media (min-width: $screen-sm) {
    display: flex;
    flex-wrap: wrap;
    margin-left: -$gutter;
    margin-right: -$gutter;
  }
}

.md\:sp-grid {
  @media (min-width: $screen-md) {
    display: flex;
    flex-wrap: wrap;
    margin-left: -$gutter;
    margin-right: -$gutter;
  }
}

.lg\:sp-grid {
  @media (min-width: $screen-lg) {
    display: flex;
    flex-wrap: wrap;
    margin-left: -$gutter;
    margin-right: -$gutter;
  }
}

// Find the greatest common divisor
// http://en.wikipedia.org/wiki/Greatest_common_divisor#Reducing_fractions
@function gcd($a, $b) {
  @if($b == 0) {
    @return $a;
  }

  $r: $a % $b;

  @return gcd($b, $r);
}

// For each of our columns
@each $size in $breakpoints {
  @include breakpoint($size) {
    @if $size {
      $size: #{$size}\:
    }

    @for $i from 1 through $columns - 1 {
      // Find the simplest expression of the fraction
      $gcd: gcd($i, $columns);
      // Get the top and bottom parts of the fraction
      $numerator: $i/$gcd;
      $denominator: $columns/$gcd;

      .#{$size}sp-col-#{$numerator}\/#{$denominator} {
        flex: 1 1 auto;
        padding-left: $gutter;
        padding-right: $gutter;
        width: $i/$columns * 100%;
      }
    }
  }
}